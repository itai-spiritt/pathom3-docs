<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GZFCYV0DXN"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GZFCYV0DXN",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Pathom 3" href="/opensearch.xml"><title data-react-helmet="true">Planner | Pathom 3</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Planner | Pathom 3"><meta data-react-helmet="true" name="description" content="This page is a draft. Feedback is welcome."><meta data-react-helmet="true" property="og:description" content="This page is a draft. Feedback is welcome."><meta data-react-helmet="true" property="og:url" content="https://pathom3.wsscode.com/docs/planner"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://pathom3.wsscode.com/docs/planner"><link rel="stylesheet" href="/styles.4444d5c6.css">
<link rel="preload" href="/styles.488f8ab7.js" as="script">
<link rel="preload" href="/runtime~main.868e945b.js" as="script">
<link rel="preload" href="/main.25d8d50a.js" as="script">
<link rel="preload" href="/1.89ba2929.js" as="script">
<link rel="preload" href="/2.ab7b01d4.js" as="script">
<link rel="preload" href="/3.28552344.js" as="script">
<link rel="preload" href="/1be78505.fdabaee1.js" as="script">
<link rel="preload" href="/46.50848efd.js" as="script">
<link rel="preload" href="/935f2afb.b0430d98.js" as="script">
<link rel="preload" href="/17896441.da245a3d.js" as="script">
<link rel="preload" href="/1c1a504e.9a2cc868.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/icon_64x64.png" alt="Pathom 3"><strong class="navbar__title">Pathom 3</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="https://blog.wsscode.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a class="navbar__item navbar__link" href="/media">Media</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/wilkerlucio/pathom3" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/icon_64x64.png" alt="Pathom 3"><strong class="navbar__title">Pathom 3</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="https://blog.wsscode.com" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/media">Media</a></li><li class="menu__list-item"><a href="https://github.com/wilkerlucio/pathom3" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tutorial">Pathom Tutorial</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Using Pathom</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/resolvers">Resolvers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/built-in-resolvers">Built-in Resolvers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/smart-maps">Smart Maps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/eql">EQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/environment">Environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/cache">Cache</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/placeholders">Placeholders</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/mutations">Mutations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/error-handling">Error Handling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/plugins">Plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/built-in-plugins">Built-in Plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/async">Async</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/debugging">Debugging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/foreign">Foreign Environments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dynamic-resolvers">Dynamic Resolvers</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">How Pathom Works</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/indexes">Indexes</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/planner">Planner</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/shape-descriptor">Shape Descriptor</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Integrations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/integrations/graphql">GraphQL</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tutorials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/hacker-news-scraper">Hacker News Scraper</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/serverless-pathom-gcf">Serverless Pathom with GCF</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/babashka">Scripting with Babashka</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tutorials/graphql-integration">GraphQL Integration</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Planner</h1></header><div class="markdown"><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>This page is a draft. Feedback is welcome.</p></div></div><p>Welcome to the heart of Pathom. The planner is the part of Pathom that figures which
resolvers to call, in which order to fulfill the data demand.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="what-is-a-plan"></a>What is a plan?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-a-plan" title="Direct link to heading">#</a></h2><p>The Pathom plan is a <a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph" target="_blank" rel="noopener noreferrer">DAG</a>, and
always has a single root.</p><p>Now we are going to a series of examples to understand how the planner does its job,
and what it outputs.</p><p>To understand the planner, we going to walk though a series of examples:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="the-simplest-plan"></a>The simplest plan<a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-simplest-plan" title="Direct link to heading">#</a></h3><p>To compute the plan, Pathom requires:</p><ul><li><a href="/docs/indexes">Indexes</a></li><li><a href="https://edn-query-language.org/eql/1.0.0/specification.html" target="_blank" rel="noopener noreferrer">EQL AST</a> of the demand</li></ul><p>In case you already have some data available, you can tell the planner about it using
the <a href="/docs/shape-descriptor">Shape Descriptor</a>, so it will consider that when
formulating the plan.</p><p>For our first example, it&#x27;s going to be a simple request that calls a single resolver:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(ns com.wsscode.pathom3.docs.planner</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (:require [com.wsscode.pathom3.connect.indexes :as pci]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            [com.wsscode.pathom3.connect.operation :as pco]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            [com.wsscode.pathom3.connect.planner :as pcp]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            [edn-query-language.core :as eql]))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; start with a simple resolver</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(pco/defresolver answer []</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {::answer-to-everything 42})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; create an environment with the indexes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def env (pci/register answer))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; generate execution DAG</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(let [ast (eql/query-&gt;ast [::answer-to-everything])]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (pcp/compute-run-graph</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    (assoc env</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :edn-query-language.ast/node ast)))</span></div></div></div></div></div><p>Pathom represents the plan DAG using plain Clojure maps. Our previous example generate
this graph:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{::pcp/nodes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> {1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {::pco/op-name</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   com.wsscode.pathom3.docs.planner/answer</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ::pcp/node-id</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ::pcp/requires</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   {:com.wsscode.pathom3.docs.planner/answer-to-everything {}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ::pcp/input</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   {}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   ::pcp/source-for-attrs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   #{:com.wsscode.pathom3.docs.planner/answer-to-everything}}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ::pcp/index-resolver-&gt;nodes</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> {com.wsscode.pathom3.docs.planner/answer #{1}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ::pcp/unreachable-resolvers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> #{}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ::pcp/index-ast</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> {:com.wsscode.pathom3.docs.planner/answer-to-everything</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {:type         :prop</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   :dispatch-key :com.wsscode.pathom3.docs.planner/answer-to-everything</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">   :key          :com.wsscode.pathom3.docs.planner/answer-to-everything}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ::pcp/root</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> 1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> ::pcp/index-attrs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> {:com.wsscode.pathom3.docs.planner/answer-to-everything 1}}</span></div></div></div></div></div><p>To generate the plan, Pathom starts scanning the AST. For each attribute it sees, it
looks it up in the index. In case the attribute requires other dependencies, Pathom will
recursively walk the <code>index-oir</code> until it finds the matches or reach a dead end.</p><p>Now it&#x27;s time to introduce the planner, viz. This is a tool that lets you visualize a
Pathom execution plan visually. This is also a tool to understand and debug how Pathom
builds up a plan. Using the items on the left, you can navigate through the graph building
process:</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>This tool still in the early stages. Expect changes to it.</p></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>You can click the nodes to see details.</p></div></div><div class="pathom-plan-view"><div style="display:flex;flex-direction:column;height:500px"><button>Full Screen</button><iframe src="https://pathom-viz.wsscode.com/embed.html" loading="lazy" style="flex:1;width:100%;height:auto;border:0"></iframe></div></div><p>Our current case is simple, a single resolver node.</p><p>Time to break down some of the attributes here:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="pcpnodes"></a><code>::pcp/nodes</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#pcpnodes" title="Direct link to heading">#</a></h4><p>It contains a map with all the nodes from this graph, indexed by <code>node-id</code>. The <code>node-id</code>
is a monotonic incremental value, the first node gets the ID 1.</p><p>In the planner graph, there are three types of possible nodes:</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="resolver-nodes"></a>Resolver nodes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#resolver-nodes" title="Direct link to heading">#</a></h5><p>Represent a call to a resolver</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="and-nodes"></a>AND nodes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#and-nodes" title="Direct link to heading">#</a></h5><p>Represent the call of multiple resolvers, also, being a sibling node in
a AND node means the runner can call those nodes in parallel.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="or-nodes"></a>OR nodes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#or-nodes" title="Direct link to heading">#</a></h5><p>Represent that one of the nodes must get the required data.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="pcpindex-resolver-nodes"></a><code>::pcp/index-resolver-&gt;nodes</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#pcpindex-resolver-nodes" title="Direct link to heading">#</a></h4><p>Index pointing to the nodes for a given resolver.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="pcproot"></a><code>::pcp/root</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#pcproot" title="Direct link to heading">#</a></h4><p>The start node of the plan. In the visualization, the root node has a black border.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="pcpindex-attrs"></a><code>::pcp/index-attrs</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#pcpindex-attrs" title="Direct link to heading">#</a></h4><p>This index knows which node is responsible for a given attribute. This is important
for internal optimizations, when some dependency appears repeated, Pathom can use
this index to connect straight to a node, avoiding re-processing.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="other-attributes"></a>Other attributes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#other-attributes" title="Direct link to heading">#</a></h4><p>You can find spec definitions with descriptions for every property of the planner at the
<a href="https://github.com/wilkerlucio/pathom3/blob/master/src/main/com/wsscode/pathom3/connect/planner.cljc#L19-L170" target="_blank" rel="noopener noreferrer">planner source code</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="dependencies"></a>Dependencies<a aria-hidden="true" tabindex="-1" class="hash-link" href="#dependencies" title="Direct link to heading">#</a></h2><p>The next case we are going to look at is what happens when there are attribute dependencies.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(ns com.wsscode.pathom3.docs.planner</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (:require [com.wsscode.pathom3.connect.indexes :as pci]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            [com.wsscode.pathom3.connect.operation :as pco]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            [com.wsscode.pathom3.connect.planner :as pcp]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            [edn-query-language.core :as eql]))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(pco/defresolver pi []</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {::pi Math/PI})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; TAU depends on PI</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(pco/defresolver tau [{::keys [pi]}]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  {::tau (* pi 2)})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def env (pci/register [pi tau]))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; generate execution DAG</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(let [ast (eql/query-&gt;ast [::tau])]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  (pcp/compute-run-graph</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    (assoc env</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      :edn-query-language.ast/node ast)))</span></div></div></div></div></div><p>To make these examples shorter, from now on, I&#x27;m going to use the <code>index-oir</code> representation
of the graph instead of writing the full resolvers. To start, let&#x27;s look at our previous
example using the <code>index-oir</code> format:</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>In the <code>index-oir</code> I&#x27;m going to use short names for the convenience of the demonstration,
but keep in mind for real systems, its recommended to stick with long names.</p></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">; index-oir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{:pi  {{} #{pi}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :tau {{:pi {}} #{tau}}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; query</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[:tau]</span></div></div></div></div></div><div class="pathom-plan-view"><div style="display:flex;flex-direction:column;height:500px"><button>Full Screen</button><iframe src="https://pathom-viz.wsscode.com/embed.html" loading="lazy" style="flex:1;width:100%;height:auto;border:0"></iframe></div></div><p>The black arrow means the node <code>tau</code> will run after the node for <code>pi</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="and-nodes-1"></a>AND nodes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#and-nodes-1" title="Direct link to heading">#</a></h2><p>AND nodes represent a set of nodes that all need to run. Also, the planner designs
the graph in a way that the runner can run all the nodes from an AND node in parallel
if desired. To see an example of that here is a plan for a query that asks for three
different attributes: <code>:a</code>, <code>:b:</code> and <code>:c</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">; index-oir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{:a {{} #{a}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :b {{} #{b}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :c {{} #{c}}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; query</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[:a :b :c]</span></div></div></div></div></div><div class="pathom-plan-view"><div style="display:flex;flex-direction:column;height:500px"><button>Full Screen</button><iframe src="https://pathom-viz.wsscode.com/embed.html" loading="lazy" style="flex:1;width:100%;height:auto;border:0"></iframe></div></div><p>Now, to see a combination of AND node and chaining, let&#x27;s ask for a single attribute
<code>:d</code> that requires <code>:a</code>, <code>:b</code> and <code>:c</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">; index-oir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{:a {{} #{a}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :b {{} #{b}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :c {{} #{c}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :d {{:a {} :b {} :c {}} #{d}}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; query</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[:d]</span></div></div></div></div></div><div class="pathom-plan-view"><div style="display:flex;flex-direction:column;height:500px"><button>Full Screen</button><iframe src="https://pathom-viz.wsscode.com/embed.html" loading="lazy" style="flex:1;width:100%;height:auto;border:0"></iframe></div></div><p>Note there are orange arrows and black arrows. The orange arrows run first (possibly in
parallel), the black arrow only runs after all the orange arrows finish.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="or-nodes-1"></a>OR nodes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#or-nodes-1" title="Direct link to heading">#</a></h2><p>For cases when there is more than one option to fetch an attribute. In those cases, Pathom
uses the <code>OR</code> node to express that. For this example, we will have three different resolvers
to the attribute <code>:a</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">; index-oir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{:a {{} #{a1 a2 a3}}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; query</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[:a]</span></div></div></div></div></div><div class="pathom-plan-view"><div style="display:flex;flex-direction:column;height:500px"><button>Full Screen</button><iframe src="https://pathom-viz.wsscode.com/embed.html" loading="lazy" style="flex:1;width:100%;height:auto;border:0"></iframe></div></div><p>Note the <code>OR</code> also uses orange arrows, but this time they mean at least once of the
edges must run, instead of all of them.</p><p>In the next example, we can see how Pathom deals with graphs that require different
input paths:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">; index-oir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{:a {{:b {}} #{a1 a2 a3}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     {:c {} :d {}} #{a9}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :b {{} #{b}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :c {{:d {}} #{c}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :d {{} #{d}}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; query</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[:a]</span></div></div></div></div></div><div class="pathom-plan-view"><div style="display:flex;flex-direction:column;height:500px"><button>Full Screen</button><iframe src="https://pathom-viz.wsscode.com/embed.html" loading="lazy" style="flex:1;width:100%;height:auto;border:0"></iframe></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="other-examples"></a>Other examples<a aria-hidden="true" tabindex="-1" class="hash-link" href="#other-examples" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="impossible-paths"></a>Impossible paths<a aria-hidden="true" tabindex="-1" class="hash-link" href="#impossible-paths" title="Direct link to heading">#</a></h3><p>Here you can see what happens when some request tries to find dependencies and reach
a dead-end:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">; index-oir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; :a depends on :b, there is no path for :b</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{:a {{:b {}} #{a}}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; query</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[:a]</span></div></div></div></div></div><div class="pathom-plan-view"><div style="display:flex;flex-direction:column;height:500px"><button>Full Screen</button><iframe src="https://pathom-viz.wsscode.com/embed.html" loading="lazy" style="flex:1;width:100%;height:auto;border:0"></iframe></div></div><p>Now a partial dead-end, note how it discards the dead cluster on <code>ab</code> and <code>ab2</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">; index-oir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; :a depends on :b, there is no path for :b</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{:a {{:c {}} #{ac}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     {:b {}} #{ab ab2}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :c {{} #{c}}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; query</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[:a]</span></div></div></div></div></div><div class="pathom-plan-view"><div style="display:flex;flex-direction:column;height:500px"><button>Full Screen</button><iframe src="https://pathom-viz.wsscode.com/embed.html" loading="lazy" style="flex:1;width:100%;height:auto;border:0"></iframe></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="combined-or-and-and"></a>Combined OR and AND<a aria-hidden="true" tabindex="-1" class="hash-link" href="#combined-or-and-and" title="Direct link to heading">#</a></h3><p>When combining those, you will see the <code>OR</code> nodes get processed before the AND nodes.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">; index-oir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{:a {{} #{a1 a2}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :b {{} #{b1 b2}}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; query</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[:a :b]</span></div></div></div></div></div><div class="pathom-plan-view"><div style="display:flex;flex-direction:column;height:500px"><button>Full Screen</button><iframe src="https://pathom-viz.wsscode.com/embed.html" loading="lazy" style="flex:1;width:100%;height:auto;border:0"></iframe></div></div><p>And a more complex example:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">; index-oir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{:a {{} #{a}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :b {{:g {}} #{b}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :c {{} #{c}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :e {{} #{e e1}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :f {{:e {}} #{f}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :g {{:c {} :f {}} #{g}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"> :h {{:a {} :b {}} #{h}}}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; query</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[:h]</span></div></div></div></div></div><div class="pathom-plan-view"><div style="display:flex;flex-direction:column;height:500px"><button>Full Screen</button><iframe src="https://pathom-viz.wsscode.com/embed.html" loading="lazy" style="flex:1;width:100%;height:auto;border:0"></iframe></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="explorer"></a>Explorer<a aria-hidden="true" tabindex="-1" class="hash-link" href="#explorer" title="Direct link to heading">#</a></h2><p>You can use the following tool to play around with indexes and queries, and see how
the planner will compute the plan for it:</p><div class="pathom-plan-view"><div style="display:flex;flex-direction:column;height:760px"><button>Full Screen</button><iframe src="https://pathom-viz.wsscode.com/embed.html" loading="lazy" style="flex:1;width:100%;height:auto;border:0"></iframe></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>You can pull the Index OIR from some environment:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-clojure codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">(def env (pci/register [some resolvers here]))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">; print index oir</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">(clojure.pprint/pprint (::pci/index-oir env))</span></div></div></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/wilkerlucio/pathom3-docs/edit/master/docs/planner.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/indexes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Indexes</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/shape-descriptor"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Shape Descriptor Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-a-plan" class="table-of-contents__link">What is a plan?</a><ul><li><a href="#the-simplest-plan" class="table-of-contents__link">The simplest plan</a></li></ul></li><li><a href="#dependencies" class="table-of-contents__link">Dependencies</a></li><li><a href="#and-nodes-1" class="table-of-contents__link">AND nodes</a></li><li><a href="#or-nodes-1" class="table-of-contents__link">OR nodes</a></li><li><a href="#other-examples" class="table-of-contents__link">Other examples</a><ul><li><a href="#impossible-paths" class="table-of-contents__link">Impossible paths</a></li><li><a href="#combined-or-and-and" class="table-of-contents__link">Combined OR and AND</a></li></ul></li><li><a href="#explorer" class="table-of-contents__link">Explorer</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Presentations</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.youtube.com/watch?v=YaHiff2vZ_o" target="_blank" rel="noopener noreferrer" class="footer__link-item">Data Navigation with Pathom 3</a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=IS3i3DTUnAI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Conj 2019 - The Maximal Graph</a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=yyVKf2U8YVg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Conj 2018 - Scaling Full Stack Applications</a></li><li class="footer__item"><a href="https://www.youtube.com/watch?v=r3zywlNflJI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Dutch Clojure Days 2018 - Clojure Graph APIâ€™s</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://clojurians.slack.com/messages/pathom/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2023 Wilker Lucio</div></div></div></footer></div>
<script src="/styles.488f8ab7.js"></script>
<script src="/runtime~main.868e945b.js"></script>
<script src="/main.25d8d50a.js"></script>
<script src="/1.89ba2929.js"></script>
<script src="/2.ab7b01d4.js"></script>
<script src="/3.28552344.js"></script>
<script src="/1be78505.fdabaee1.js"></script>
<script src="/46.50848efd.js"></script>
<script src="/935f2afb.b0430d98.js"></script>
<script src="/17896441.da245a3d.js"></script>
<script src="/1c1a504e.9a2cc868.js"></script>
</body>
</html>