"use strict";(self.webpackChunkpathom_3_docs=self.webpackChunkpathom_3_docs||[]).push([[821],{3905:(e,t,r)=>{r.d(t,{Zo:()=>l,kt:()=>f});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),c=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},l=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),u=c(r),m=a,f=u["".concat(p,".").concat(m)]||u[m]||d[m]||o;return r?n.createElement(f,s(s({ref:t},l),{},{components:r})):n.createElement(f,s({ref:t},l))}));function f(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,s=new Array(o);s[0]=m;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[u]="string"==typeof e?e:a,s[1]=i;for(var c=2;c<o;c++)s[c]=r[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},9148:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var n=r(7462),a=(r(7294),r(3905));const o={title:"Shape Descriptor"},s=void 0,i={unversionedId:"shape-descriptor",id:"shape-descriptor",title:"Shape Descriptor",description:"Shape descriptor is a format to express data shapes used internally by Pathom.",source:"@site/docs/shape-descriptor.mdx",sourceDirName:".",slug:"/shape-descriptor",permalink:"/docs/shape-descriptor",draft:!1,editUrl:"https://github.com/wilkerlucio/pathom3-docs/edit/master/docs/shape-descriptor.mdx",tags:[],version:"current",frontMatter:{title:"Shape Descriptor"},sidebar:"docs",previous:{title:"Planner",permalink:"/docs/planner"},next:{title:"GraphQL",permalink:"/docs/integrations/graphql"}},p={},c=[],l={toc:c},u="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(u,(0,n.Z)({},l,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Shape descriptor is a format to express data shapes used internally by Pathom."),(0,a.kt)("p",null,"We can compare it to EQL to represent some example data shape:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-clojure"},'; sample data\n{:user/name         "usuario"\n ; nested map\n :user/billing-card {:card/number "123"}\n ; nested map sequence\n :user/friends      [{:user/id 1}\n                     {:user/id 2}]}\n\n; in EQL, we can describe that shape as:\n[:user/name\n {:user/billing-card [:card/number]}\n {:user/friends [:user/id]}]\n\n; same representation using the shape descriptor format:\n{:user/name         {}\n :user/billing-card {:card/number {}}\n :user/friends      {:user/id {}}}\n')),(0,a.kt)("p",null,"Pathom uses shape descriptor when it needs to know if some attribute is available in\nsome given data, this format preserves the structure of the data, without the details."),(0,a.kt)("p",null,"Compared to EQL it's faster to use for this case, given that it has indexed lookups\nto verify the presence of some attribute."),(0,a.kt)("p",null,"The namespace ",(0,a.kt)("inlineCode",{parentName:"p"},"com.wsscode.pathom3.format.shape-descriptor")," contains helpers to work\nwith this format."))}d.isMDXComponent=!0}}]);